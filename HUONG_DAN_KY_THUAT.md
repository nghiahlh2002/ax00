# ğŸ“– HÆ¯á»šNG DáºªN Ká»¸ THUáº¬T - STOCK SCREENER

## TÃ i liá»‡u chi tiáº¿t vá» cÃ¡ch hoáº¡t Ä‘á»™ng vÃ  cÃ¡c thÃ´ng sá»‘ cÃ³ thá»ƒ chá»‰nh sá»­a

---

## ğŸ“ Má»¤C Lá»¤C

1. [Kiáº¿n trÃºc tá»•ng quan](#1-kiáº¿n-trÃºc-tá»•ng-quan)
2. [CÃ¡c thÃ´ng sá»‘ cÃ³ thá»ƒ chá»‰nh sá»­a](#2-cÃ¡c-thÃ´ng-sá»‘-cÃ³-thá»ƒ-chá»‰nh-sá»­a)
3. [Giáº£i thÃ­ch cÃ¡c chá»‰ bÃ¡o ká»¹ thuáº­t](#3-giáº£i-thÃ­ch-cÃ¡c-chá»‰-bÃ¡o-ká»¹-thuáº­t)
4. [Giáº£i thÃ­ch cÃ¡c chá»‰ sá»‘ cÆ¡ báº£n](#4-giáº£i-thÃ­ch-cÃ¡c-chá»‰-sá»‘-cÆ¡-báº£n)
5. [Há»‡ thá»‘ng cháº¥m Ä‘iá»ƒm](#5-há»‡-thá»‘ng-cháº¥m-Ä‘iá»ƒm)
6. [Luá»“ng xá»­ lÃ½ dá»¯ liá»‡u](#6-luá»“ng-xá»­-lÃ½-dá»¯-liá»‡u)
7. [HÆ°á»›ng dáº«n nÃ¢ng cáº¥p](#7-hÆ°á»›ng-dáº«n-nÃ¢ng-cáº¥p)

---

## 1. KIáº¾N TRÃšC Tá»”NG QUAN

### 1.1 SÆ¡ Ä‘á»“ hoáº¡t Ä‘á»™ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STOCK SCREENER                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Láº¤Y DANH    â”‚â”€â”€â”€â–¶â”‚  Láº¤Y Dá»® LIá»†U â”‚â”€â”€â”€â–¶â”‚  TÃNH CHá»ˆ    â”‚       â”‚
â”‚  â”‚  SÃCH MÃƒ     â”‚    â”‚  Tá»ªNG MÃƒ     â”‚    â”‚  BÃO         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                   â”‚                   â”‚                â”‚
â”‚         â–¼                   â–¼                   â–¼                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ â€¢ HOSE       â”‚    â”‚ â€¢ GiÃ¡ OHLCV  â”‚    â”‚ â€¢ RSI        â”‚       â”‚
â”‚  â”‚ â€¢ HNX        â”‚    â”‚ â€¢ Volume     â”‚    â”‚ â€¢ MACD       â”‚       â”‚
â”‚  â”‚ â€¢ UPCOM      â”‚    â”‚ â€¢ P/E, ROE   â”‚    â”‚ â€¢ Breakout   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Lá»ŒC THEO    â”‚â”€â”€â”€â–¶â”‚  CHáº¤M ÄIá»‚M   â”‚â”€â”€â”€â–¶â”‚  XUáº¤T Káº¾T    â”‚       â”‚
â”‚  â”‚  TIÃŠU CHÃ    â”‚    â”‚  0-100       â”‚    â”‚  QUáº¢         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                   â”‚                   â”‚                â”‚
â”‚         â–¼                   â–¼                   â–¼                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ â€¢ Swing      â”‚    â”‚ >= 50 Ä‘iá»ƒm   â”‚    â”‚ â€¢ Console    â”‚       â”‚
â”‚  â”‚ â€¢ DÃ i háº¡n    â”‚    â”‚ = Äáº T        â”‚    â”‚ â€¢ CSV file   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 CÃ¡c file trong project

| File                     | Chá»©c nÄƒng                         |
| ------------------------ | --------------------------------- |
| `stock_screener.py`      | Script chÃ­nh - chá»©a toÃ n bá»™ logic |
| `requirements.txt`       | Danh sÃ¡ch thÆ° viá»‡n cáº§n cÃ i        |
| `README.md`              | HÆ°á»›ng dáº«n sá»­ dá»¥ng cÆ¡ báº£n          |
| `HUONG_DAN_KY_THUAT.md`  | TÃ i liá»‡u ká»¹ thuáº­t (file nÃ y)      |
| `screener_results_*.csv` | File káº¿t quáº£ xuáº¥t ra              |

---

## 2. CÃC THÃ”NG Sá» CÃ“ THá»‚ CHá»ˆNH Sá»¬A

### 2.1 TiÃªu chÃ­ Swing Trading (DÃ²ng 24-32)

```python
SWING_CRITERIA = {
    'volume_ratio_min': 1.5,      # [1] Volume Ä‘á»™t biáº¿n
    'rsi_oversold': 30,            # [2] NgÆ°á»¡ng quÃ¡ bÃ¡n
    'rsi_overbought': 70,          # [3] NgÆ°á»¡ng quÃ¡ mua
    'risk_reward_min': 2.0,        # [4] Tá»· lá»‡ Risk/Reward
    'max_stop_loss_pct': 7,        # [5] Stop-loss tá»‘i Ä‘a
    'min_price': 5000,             # [6] GiÃ¡ tá»‘i thiá»ƒu
    'min_avg_volume': 100000,      # [7] Khá»‘i lÆ°á»£ng tá»‘i thiá»ƒu
}
```

#### Chi tiáº¿t tá»«ng thÃ´ng sá»‘:

| #   | ThÃ´ng sá»‘            | GiÃ¡ trá»‹ máº·c Ä‘á»‹nh | Ã nghÄ©a                           | Gá»£i Ã½ chá»‰nh                             |
| --- | ------------------- | ---------------- | --------------------------------- | --------------------------------------- |
| 1   | `volume_ratio_min`  | 1.5              | Volume hÃ´m nay >= 150% TB 20 ngÃ y | TÄƒng lÃªn 2.0 náº¿u muá»‘n tÃ­n hiá»‡u máº¡nh hÆ¡n |
| 2   | `rsi_oversold`      | 30               | RSI < 30 = quÃ¡ bÃ¡n                | Giáº£m xuá»‘ng 25 náº¿u muá»‘n strict hÆ¡n       |
| 3   | `rsi_overbought`    | 70               | RSI > 70 = quÃ¡ mua                | TÄƒng lÃªn 75 náº¿u muá»‘n báº¯t trend máº¡nh     |
| 4   | `risk_reward_min`   | 2.0              | LÃ£i tiá»m nÄƒng / Lá»— >= 2           | TÄƒng lÃªn 3.0 náº¿u muá»‘n an toÃ n hÆ¡n       |
| 5   | `max_stop_loss_pct` | 7                | Stop-loss khÃ´ng quÃ¡ 7%            | Giáº£m xuá»‘ng 5 náº¿u muá»‘n Ã­t rá»§i ro         |
| 6   | `min_price`         | 5000             | Loáº¡i penny stock < 5,000Ä‘         | TÄƒng lÃªn 10000 Ä‘á»ƒ lá»c mÃ£ lá»›n hÆ¡n        |
| 7   | `min_avg_volume`    | 100000           | Thanh khoáº£n tá»‘i thiá»ƒu             | TÄƒng lÃªn 500000 cho mÃ£ thanh khoáº£n cao  |

### 2.2 TiÃªu chÃ­ Äáº§u tÆ° DÃ i háº¡n (DÃ²ng 35-42)

```python
LONGTERM_CRITERIA = {
    'pe_max': 25,                  # [1] P/E tá»‘i Ä‘a
    'roe_min': 15,                 # [2] ROE tá»‘i thiá»ƒu
    'eps_growth_min': 10,          # [3] TÄƒng trÆ°á»Ÿng EPS
    'debt_to_equity_max': 1.5,     # [4] ÄÃ²n báº©y tá»‘i Ä‘a
    'dividend_yield_min': 0,       # [5] Cá»• tá»©c tá»‘i thiá»ƒu
    'market_cap_min': 1000,        # [6] Vá»‘n hÃ³a tá»‘i thiá»ƒu
}
```

#### Chi tiáº¿t tá»«ng thÃ´ng sá»‘:

| #   | ThÃ´ng sá»‘             | GiÃ¡ trá»‹ máº·c Ä‘á»‹nh | Ã nghÄ©a               | Gá»£i Ã½ chá»‰nh                       |
| --- | -------------------- | ---------------- | --------------------- | --------------------------------- |
| 1   | `pe_max`             | 25               | P/E <= 25 lÃ  há»£p lÃ½   | Giáº£m xuá»‘ng 15 cho value investing |
| 2   | `roe_min`            | 15               | ROE >= 15% lÃ  tá»‘t     | TÄƒng lÃªn 20 cho blue-chip         |
| 3   | `eps_growth_min`     | 10               | EPS tÄƒng >= 10%/nÄƒm   | TÄƒng lÃªn 20 cho growth stock      |
| 4   | `debt_to_equity_max` | 1.5              | Ná»£/Vá»‘n <= 1.5         | Giáº£m xuá»‘ng 1.0 cho an toÃ n        |
| 5   | `dividend_yield_min` | 0                | KhÃ´ng báº¯t buá»™c cá»• tá»©c | TÄƒng lÃªn 3 cho income investing   |
| 6   | `market_cap_min`     | 1000             | Vá»‘n hÃ³a >= 1,000 tá»·   | TÄƒng lÃªn 5000 cho large-cap       |

### 2.3 CÃ¡c thÃ´ng sá»‘ khÃ¡c

#### Sá»‘ ngÃ y láº¥y dá»¯ liá»‡u (DÃ²ng ~510)

```python
def get_stock_data(symbol, days=100):  # Máº·c Ä‘á»‹nh 100 ngÃ y
```

- **TÄƒng lÃªn 200**: PhÃ¢n tÃ­ch trend dÃ i háº¡n hÆ¡n
- **Giáº£m xuá»‘ng 50**: Cháº¡y nhanh hÆ¡n, focus ngáº¯n háº¡n

#### Chu ká»³ RSI (DÃ²ng ~175)

```python
def calculate_rsi(prices, period=14):  # Máº·c Ä‘á»‹nh 14 ngÃ y
```

- **TÄƒng lÃªn 21**: RSI á»•n Ä‘á»‹nh hÆ¡n, Ã­t tÃ­n hiá»‡u hÆ¡n
- **Giáº£m xuá»‘ng 7**: RSI nháº¡y hÆ¡n, nhiá»u tÃ­n hiá»‡u hÆ¡n

#### Chu ká»³ Breakout (DÃ²ng ~210)

```python
def detect_breakout(df, period=20):  # Máº·c Ä‘á»‹nh 20 ngÃ y
```

- **TÄƒng lÃªn 50**: Breakout khá»i range 50 ngÃ y (máº¡nh hÆ¡n)
- **Giáº£m xuá»‘ng 10**: Breakout ngáº¯n háº¡n (nháº¡y hÆ¡n)

#### Äiá»ƒm Ä‘áº¡t ngÆ°á»¡ng (DÃ²ng ~350, ~480)

```python
if score >= 50:  # NgÆ°á»¡ng Ä‘áº¡t
    return {...}
```

- **TÄƒng lÃªn 70**: Chá»‰ láº¥y mÃ£ ráº¥t tá»‘t
- **Giáº£m xuá»‘ng 40**: Láº¥y nhiá»u mÃ£ hÆ¡n

---

## 3. GIáº¢I THÃCH CÃC CHá»ˆ BÃO Ká»¸ THUáº¬T

### 3.1 RSI (Relative Strength Index)

```
CÃ´ng thá»©c:
RSI = 100 - (100 / (1 + RS))

Trong Ä‘Ã³:
RS = Trung bÃ¬nh tÄƒng 14 ngÃ y / Trung bÃ¬nh giáº£m 14 ngÃ y
```

**CÃ¡ch Ä‘á»c:**
| GiÃ¡ trá»‹ RSI | Ã nghÄ©a | HÃ nh Ä‘á»™ng |
|-------------|---------|-----------|
| < 30 | QuÃ¡ bÃ¡n | Xem xÃ©t MUA |
| 30-50 | Bearish | Chá» Ä‘á»£i |
| 50-70 | Bullish | Giá»¯/Mua |
| > 70 | QuÃ¡ mua | Xem xÃ©t BÃN |

### 3.2 MACD (Moving Average Convergence Divergence)

```
CÃ´ng thá»©c:
MACD Line = EMA(12) - EMA(26)
Signal Line = EMA(MACD, 9)
Histogram = MACD Line - Signal Line
```

**TÃ­n hiá»‡u:**

- MACD cáº¯t lÃªn Signal â†’ Bullish (Mua)
- MACD cáº¯t xuá»‘ng Signal â†’ Bearish (BÃ¡n)
- Histogram dÆ°Æ¡ng vÃ  tÄƒng â†’ Momentum tÄƒng

### 3.3 Volume Ratio

```
Volume Ratio = Volume hÃ´m nay / Trung bÃ¬nh Volume 20 ngÃ y
```

**Ã nghÄ©a:**
| Tá»· lá»‡ | Ã nghÄ©a |
|-------|---------|
| < 0.5 | Ráº¥t tháº¥p, Ã­t quan tÃ¢m |
| 0.5-1.0 | BÃ¬nh thÆ°á»ng |
| 1.0-1.5 | Cao hÆ¡n bÃ¬nh thÆ°á»ng |
| 1.5-2.0 | Äá»™t biáº¿n, cÃ³ tin tá»©c |
| > 2.0 | Ráº¥t Ä‘á»™t biáº¿n, cáº§n chÃº Ã½ |

### 3.4 Breakout Detection

```
Breakout UP = GiÃ¡ Ä‘Ã³ng cá»­a hÃ´m nay > Äá»‰nh cao nháº¥t 20 ngÃ y trÆ°á»›c
Breakout DOWN = GiÃ¡ Ä‘Ã³ng cá»­a hÃ´m nay < ÄÃ¡y tháº¥p nháº¥t 20 ngÃ y trÆ°á»›c
```

**Äiá»u kiá»‡n breakout máº¡nh:**

1. Volume >= 1.5x TB
2. GiÃ¡ Ä‘Ã³ng cá»­a gáº§n Ä‘á»‰nh ngÃ y (>80% biÃªn Ä‘á»™)
3. RSI chÆ°a quÃ¡ mua (<70)

### 3.5 Support & Resistance

```
Resistance (KhÃ¡ng cá»±) = Äá»‰nh cao nháº¥t 20 ngÃ y
Support (Há»— trá»£) = ÄÃ¡y tháº¥p nháº¥t 20 ngÃ y
```

**CÃ¡ch tÃ­nh Stop-loss vÃ  Target:**

```
Stop-loss = Support Ã— 0.98  (DÆ°á»›i há»— trá»£ 2%)
Target 1 = Resistance       (VÃ¹ng khÃ¡ng cá»±)
Target 2 = GiÃ¡ hiá»‡n táº¡i Ã— 1.15  (TÄƒng 15%)
```

---

## 4. GIáº¢I THÃCH CÃC CHá»ˆ Sá» CÆ  Báº¢N

### 4.1 P/E (Price to Earnings)

```
P/E = GiÃ¡ cá»• phiáº¿u / Lá»£i nhuáº­n trÃªn má»—i cá»• phiáº¿u (EPS)
```

| P/E   | ÄÃ¡nh giÃ¡                |
| ----- | ----------------------- |
| < 10  | Ráº¥t ráº» (hoáº·c cÃ³ váº¥n Ä‘á») |
| 10-15 | Háº¥p dáº«n                 |
| 15-25 | Há»£p lÃ½                  |
| 25-40 | Äáº¯t                     |
| > 40  | Ráº¥t Ä‘áº¯t (growth stock)  |

### 4.2 ROE (Return on Equity)

```
ROE = Lá»£i nhuáº­n rÃ²ng / Vá»‘n chá»§ sá»Ÿ há»¯u Ã— 100%
```

| ROE    | ÄÃ¡nh giÃ¡   |
| ------ | ---------- |
| < 10%  | KÃ©m        |
| 10-15% | Trung bÃ¬nh |
| 15-20% | Tá»‘t        |
| 20-30% | Ráº¥t tá»‘t    |
| > 30%  | Xuáº¥t sáº¯c   |

### 4.3 EPS Growth (TÄƒng trÆ°á»Ÿng lá»£i nhuáº­n)

```
EPS Growth = (EPS nÄƒm nay - EPS nÄƒm trÆ°á»›c) / EPS nÄƒm trÆ°á»›c Ã— 100%
```

| Growth | ÄÃ¡nh giÃ¡            |
| ------ | ------------------- |
| < 0%   | Ã‚m, Ä‘ang giáº£m       |
| 0-10%  | TÄƒng trÆ°á»Ÿng tháº¥p    |
| 10-20% | TÄƒng trÆ°á»Ÿng tá»‘t     |
| 20-50% | TÄƒng trÆ°á»Ÿng cao     |
| > 50%  | TÄƒng trÆ°á»Ÿng ráº¥t cao |

### 4.4 Debt/Equity (ÄÃ²n báº©y tÃ i chÃ­nh)

```
D/E = Tá»•ng ná»£ / Vá»‘n chá»§ sá»Ÿ há»¯u
```

| D/E     | ÄÃ¡nh giÃ¡       |
| ------- | -------------- |
| < 0.5   | Ráº¥t an toÃ n    |
| 0.5-1.0 | An toÃ n        |
| 1.0-1.5 | Cháº¥p nháº­n Ä‘Æ°á»£c |
| 1.5-2.0 | Rá»§i ro         |
| > 2.0   | Rá»§i ro cao     |

---

## 5. Há»† THá»NG CHáº¤M ÄIá»‚M

### 5.1 Swing Trading (Tá»•ng 100 Ä‘iá»ƒm)

| TiÃªu chÃ­        | Äiá»ƒm | Äiá»u kiá»‡n           |
| --------------- | ---- | ------------------- |
| Volume Ä‘á»™t biáº¿n | +25  | Volume >= 1.5x TB20 |
| RSI trung tÃ­nh  | +20  | 30 < RSI < 70       |
| RSI quÃ¡ bÃ¡n     | +15  | RSI <= 30           |
| Breakout UP     | +30  | VÆ°á»£t Ä‘á»‰nh 20 ngÃ y   |
| GiÃ¡ trÃªn MA20   | +15  | Close > SMA(20)     |
| MA20 > MA50     | +10  | Uptrend             |
| R/R >= 2        | +15  | Risk/Reward tá»‘t     |
| Stop-loss > 7%  | -20  | Pháº¡t náº¿u rá»§i ro cao |

**NgÆ°á»¡ng Ä‘áº¡t: >= 50 Ä‘iá»ƒm**

### 5.2 Äáº§u tÆ° DÃ i háº¡n (Tá»•ng 100 Ä‘iá»ƒm)

| TiÃªu chÃ­        | Äiá»ƒm | Äiá»u kiá»‡n             |
| --------------- | ---- | --------------------- |
| P/E há»£p lÃ½      | +20  | P/E <= 25             |
| ROE cao         | +25  | ROE >= 15%            |
| EPS tÄƒng trÆ°á»Ÿng | +25  | EPS Growth >= 10%     |
| D/E an toÃ n     | +15  | D/E <= 1.5            |
| CÃ³ cá»• tá»©c       | +10  | Dividend > 0          |
| Vá»‘n hÃ³a lá»›n     | +5   | Market Cap >= 1000 tá»· |

**NgÆ°á»¡ng Ä‘áº¡t: >= 50 Ä‘iá»ƒm**

---

## 6. LUá»’NG Xá»¬ LÃ Dá»® LIá»†U

### 6.1 SÆ¡ Ä‘á»“ chi tiáº¿t

```
[Báº®T Äáº¦U]
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. get_all_stock_symbols()             â”‚
â”‚    â”œâ”€â”€ Thá»­ vnstock3 API               â”‚
â”‚    â”œâ”€â”€ Thá»­ TCBS API                   â”‚
â”‚    â””â”€â”€ Fallback: danh sÃ¡ch cá»©ng 244 mÃ£ â”‚
â”‚    Káº¿t quáº£: List[str] symbols          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. FOR symbol IN symbols:              â”‚
â”‚    â”‚                                   â”‚
â”‚    â”œâ”€â”€ get_stock_data(symbol)          â”‚
â”‚    â”‚   â””â”€â”€ DataFrame: OHLCV 100 ngÃ y   â”‚
â”‚    â”‚                                   â”‚
â”‚    â”œâ”€â”€ get_fundamental_data(symbol)    â”‚
â”‚    â”‚   â””â”€â”€ Dict: PE, ROE, EPS...       â”‚
â”‚    â”‚                                   â”‚
â”‚    â”œâ”€â”€ screen_swing_trading()          â”‚
â”‚    â”‚   â”œâ”€â”€ TÃ­nh RSI, Volume Ratio      â”‚
â”‚    â”‚   â”œâ”€â”€ Detect Breakout             â”‚
â”‚    â”‚   â”œâ”€â”€ TÃ­nh Support/Resistance     â”‚
â”‚    â”‚   â”œâ”€â”€ Cháº¥m Ä‘iá»ƒm 0-100            â”‚
â”‚    â”‚   â””â”€â”€ Return result náº¿u >= 50    â”‚
â”‚    â”‚                                   â”‚
â”‚    â””â”€â”€ screen_long_term()              â”‚
â”‚        â”œâ”€â”€ Äá»c PE, ROE, EPS, D/E      â”‚
â”‚        â”œâ”€â”€ Cháº¥m Ä‘iá»ƒm 0-100            â”‚
â”‚        â””â”€â”€ Return result náº¿u >= 50    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Tá»•ng há»£p káº¿t quáº£                    â”‚
â”‚    â”œâ”€â”€ swing_results.sort(by=score)    â”‚
â”‚    â””â”€â”€ longterm_results.sort(by=score) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Xuáº¥t káº¿t quáº£                        â”‚
â”‚    â”œâ”€â”€ print_swing_results() â†’ Console â”‚
â”‚    â”œâ”€â”€ print_longterm_results()        â”‚
â”‚    â””â”€â”€ export_to_csv() â†’ File CSV      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
[Káº¾T THÃšC]
```

### 6.2 Cáº¥u trÃºc dá»¯ liá»‡u

#### DataFrame giÃ¡ (OHLCV)

```
| time       | open   | high   | low    | close  | volume   |
|------------|--------|--------|--------|--------|----------|
| 2026-01-01 | 95000  | 96500  | 94000  | 96000  | 1500000  |
| 2026-01-02 | 96000  | 97000  | 95500  | 96500  | 1200000  |
| ...        | ...    | ...    | ...    | ...    | ...      |
```

#### Dict fundamental

```python
{
    'pe': 18.5,
    'roe': 22.3,
    'eps_growth': 15.2,
    'debt_to_equity': 0.8,
    'dividend_yield': 3.5,
    'market_cap': 125000  # tá»· VND
}
```

#### Dict káº¿t quáº£ Swing

```python
{
    'symbol': 'FPT',
    'type': 'SWING',
    'score': 85,
    'price': 95000,
    'volume_ratio': 2.3,
    'rsi': 45.2,
    'support': 88000,
    'resistance': 102000,
    'stop_loss': 86240,
    'stop_loss_pct': 9.2,
    'target_1': 102000,
    'target_2': 109250,
    'risk_reward': 2.8,
    'signals': ['ğŸ“Š Volume Ä‘á»™t biáº¿n', 'ğŸš€ BREAKOUT'],
    'breakout': True
}
```

---

## 7. HÆ¯á»šNG DáºªN NÃ‚NG Cáº¤P

### 7.1 ThÃªm chá»‰ bÃ¡o ká»¹ thuáº­t má»›i

**VÃ­ dá»¥: ThÃªm Stochastic Oscillator**

```python
# ThÃªm vÃ o pháº§n "HÃ€M TÃNH TOÃN CHá»ˆ BÃO Ká»¸ THUáº¬T"

def calculate_stochastic(df, period=14, smooth_k=3, smooth_d=3):
    """
    TÃ­nh Stochastic Oscillator
    %K = (Close - Low14) / (High14 - Low14) Ã— 100
    %D = SMA(%K, 3)
    """
    low_min = df['low'].rolling(window=period).min()
    high_max = df['high'].rolling(window=period).max()

    stoch_k = 100 * (df['close'] - low_min) / (high_max - low_min)
    stoch_k = stoch_k.rolling(window=smooth_k).mean()  # Smooth
    stoch_d = stoch_k.rolling(window=smooth_d).mean()

    return stoch_k, stoch_d
```

**Sá»­ dá»¥ng trong screen_swing_trading():**

```python
# ThÃªm vÃ o hÃ m screen_swing_trading()
stoch_k, stoch_d = calculate_stochastic(df)
current_stoch_k = stoch_k.iloc[-1]

# Stochastic thoÃ¡t vÃ¹ng quÃ¡ bÃ¡n
if current_stoch_k > 20 and stoch_k.iloc[-2] <= 20:
    score += 15
    signals.append(f"ğŸ“ˆ Stochastic thoÃ¡t quÃ¡ bÃ¡n: {current_stoch_k:.1f}")
```

### 7.2 ThÃªm nguá»“n dá»¯ liá»‡u má»›i

**VÃ­ dá»¥: ThÃªm API tá»« VNDirect**

```python
# ThÃªm vÃ o hÃ m get_stock_data_alternative()

def get_stock_data_vndirect(symbol, days=100):
    """Láº¥y dá»¯ liá»‡u tá»« VNDirect API"""
    import requests

    url = f"https://finfo-api.vndirect.com.vn/v4/stock_prices"
    params = {
        'code': symbol,
        'size': days,
        'sort': 'date'
    }
    headers = {'User-Agent': 'Mozilla/5.0'}

    response = requests.get(url, params=params, headers=headers)

    if response.status_code == 200:
        data = response.json()['data']
        df = pd.DataFrame(data)
        # Xá»­ lÃ½ vÃ  tráº£ vá» DataFrame
        return df

    return None
```

### 7.3 ThÃªm bá»™ lá»c ngÃ nh

**VÃ­ dá»¥: Lá»c theo ngÃ nh**

```python
# ThÃªm cáº¥u hÃ¬nh ngÃ nh
INDUSTRY_FILTER = {
    'include': ['NgÃ¢n hÃ ng', 'CÃ´ng nghá»‡', 'Báº¥t Ä‘á»™ng sáº£n'],  # Chá»‰ lá»c cÃ¡c ngÃ nh nÃ y
    'exclude': ['Dáº§u khÃ­'],  # Loáº¡i trá»« ngÃ nh nÃ y
}

# ThÃªm vÃ o run_screener()
def run_screener(symbols=None, screen_type='ALL', industry_filter=None):
    # ... existing code ...

    if industry_filter:
        # Lá»c theo ngÃ nh
        filtered_symbols = []
        for symbol in symbols:
            industry = get_stock_industry(symbol)  # Cáº§n viáº¿t hÃ m nÃ y
            if industry in industry_filter.get('include', []):
                if industry not in industry_filter.get('exclude', []):
                    filtered_symbols.append(symbol)
        symbols = filtered_symbols
```

### 7.4 ThÃªm thÃ´ng bÃ¡o Telegram

```python
# ThÃªm vÃ o cuá»‘i file

def send_telegram_alert(message, bot_token, chat_id):
    """Gá»­i thÃ´ng bÃ¡o qua Telegram"""
    import requests

    url = f"https://api.telegram.org/bot{bot_token}/sendMessage"
    payload = {
        'chat_id': chat_id,
        'text': message,
        'parse_mode': 'Markdown'
    }

    response = requests.post(url, json=payload)
    return response.status_code == 200


# Sá»­ dá»¥ng sau khi cÃ³ káº¿t quáº£
if swing_results:
    message = "ğŸš€ *SWING TRADING ALERTS*\n\n"
    for r in swing_results[:5]:
        message += f"â€¢ *{r['symbol']}* - Äiá»ƒm: {r['score']}\n"

    send_telegram_alert(
        message,
        bot_token="YOUR_BOT_TOKEN",
        chat_id="YOUR_CHAT_ID"
    )
```

### 7.5 Cháº¡y tá»± Ä‘á»™ng hÃ ng ngÃ y

**Sá»­ dá»¥ng Task Scheduler (Windows):**

1. Táº¡o file `run_daily.bat`:

```batch
@echo off
cd /d C:\lhuynh\VN30
C:\lhuynh\VN30\.venv\Scripts\python.exe stock_screener.py
```

2. Má»Ÿ Task Scheduler â†’ Create Basic Task
3. Äáº·t lá»‹ch cháº¡y lÃºc 15:30 má»—i ngÃ y (sau khi Ä‘Ã³ng cá»­a)

---

## ğŸ“ GHI CHÃš QUAN TRá»ŒNG

### Khi chá»‰nh sá»­a tiÃªu chÃ­:

1. **Backup file gá»‘c** trÆ°á»›c khi sá»­a
2. **Test vá»›i dá»¯ liá»‡u demo** trÆ°á»›c (chá»n option 4)
3. **Ghi chÃº cÃ¡c thay Ä‘á»•i** Ä‘á»ƒ theo dÃµi

### CÃ¡c lá»—i thÆ°á»ng gáº·p:

| Lá»—i                     | NguyÃªn nhÃ¢n           | CÃ¡ch sá»­a               |
| ----------------------- | --------------------- | ---------------------- |
| `ImportError: vnstock3` | ChÆ°a cÃ i thÆ° viá»‡n     | `pip install vnstock3` |
| `Connection timeout`    | Máº¡ng cháº­m/API quÃ¡ táº£i | Thá»­ láº¡i sau            |
| `KeyError`              | Cá»™t dá»¯ liá»‡u thay Ä‘á»•i  | Kiá»ƒm tra tÃªn cá»™t API   |
| Káº¿t quáº£ trá»‘ng           | TiÃªu chÃ­ quÃ¡ strict   | Giáº£m ngÆ°á»¡ng Ä‘iá»ƒm       |

---

## ğŸ“ LIÃŠN Há»† Há»– TRá»¢

Náº¿u cáº§n há»— trá»£ thÃªm, hÃ£y cung cáº¥p:

1. Lá»—i cá»¥ thá»ƒ (copy toÃ n bá»™ error message)
2. PhiÃªn báº£n Python (`python --version`)
3. CÃ¡c thay Ä‘á»•i Ä‘Ã£ thá»±c hiá»‡n

---

**Cáº­p nháº­t láº§n cuá»‘i:** 28/01/2026  
**Version:** 1.0
